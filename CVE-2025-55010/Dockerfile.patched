# CVE-2025-55010 - Patched Kanboard v1.2.47
# Fix: unserialize() removed from unserializeEvent(). Session bypass still works.
FROM kanboard/kanboard:v1.2.46

LABEL maintainer="Exploit Intelligence Platform" \
    description="Kanboard v1.2.47 - Patched for CVE-2025-55010"

# Install patch utility
RUN apk --no-cache add patch

# Apply the CVE-2025-55010 fix patch
COPY fix.patch /tmp/fix.patch
RUN cd /var/www/app && patch -p1 < /tmp/fix.patch && rm /tmp/fix.patch

RUN echo v1.2.47 > /var/www/app/app/version.txt
