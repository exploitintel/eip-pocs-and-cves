# CVE-2025-53833 Lab Environment
# LaRecipe SSTI â†’ RCE (Server-Side Template Injection)
#
# Vulnerable: LaRecipe v2.8.0 - uses getRequestUri() in replaceLinks()
# Patched:    LaRecipe v2.8.1 - uses getPathInfo() in replaceLinks()
#
# Usage:
#   docker compose -f /app/workspaces/cve-2025-53833/lab/docker-compose.yml up -d
#   docker compose -f /app/workspaces/cve-2025-53833/lab/docker-compose.yml down

services:
  vulnerable:
    build:
      context: .
      dockerfile: Dockerfile.vulnerable
    container_name: cve-2025-53833-vulnerable
    ports:
      - "8081:8000"
    networks:
      - lab-net
    restart: unless-stopped

  patched:
    build:
      context: .
      dockerfile: Dockerfile.patched
    container_name: cve-2025-53833-patched
    ports:
      - "8082:8000"
    networks:
      - lab-net
    restart: unless-stopped

networks:
  lab-net:
    driver: bridge
