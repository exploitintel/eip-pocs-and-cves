# CVE-2026-28296 Fix Bypass Lab - Malicious FTP Server
# Raw-socket FTP server that returns crafted LIST responses
# with embedded \r in symlink targets.

FROM python:3.12-slim

# Create seed data directory
RUN mkdir -p /data/pub && \
    echo "This is a test file on the malicious FTP server." > /data/pub/readme.txt

COPY malicious_ftpserver.py /server/malicious_ftpserver.py

EXPOSE 21 31000-31009

CMD ["python3", "-u", "/server/malicious_ftpserver.py"]
