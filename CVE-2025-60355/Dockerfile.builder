# Build OneBlog 2.3.8 JARs from source (vulnerable version)
FROM maven:3.8.6-openjdk-8-slim
RUN apt-get update && apt-get install -y --no-install-recommends git && rm -rf /var/lib/apt/lists/*
WORKDIR /build
RUN git clone https://github.com/zhangyd-c/OneBlog.git .
RUN git checkout 8669276
RUN mvn clean package -DskipTests -Pdev -pl blog-core,blog-admin,blog-web -am --batch-mode
# Output: /build/blog-admin/target/blog-admin.jar
# Output: /build/blog-web/target/blog-web.jar
