# docker-compose.yml â€” CVE-2025-69985 Lab Environment
#
# FUXA <= 1.2.8 Authentication Bypass to Remote Code Execution
#
# Usage:
#   docker compose up -d
#   docker compose down

services:
  vulnerable:
    image: ghcr.io/exploitintel/cve-2025-69985-vulnerable:latest
    container_name: cve-2025-69985-vulnerable
    hostname: cve-2025-69985-vulnerable
    restart: unless-stopped
    ports:
      - "1881:1881"
    healthcheck:
      test: ["CMD", "curl", "-sf", "http://localhost:1881"]
      interval: 10s
      timeout: 5s
      retries: 12
      start_period: 30s
    networks:
      - lab-net

#  patched:
#    build:
#      context: .
#      dockerfile: Dockerfile.patched
#    container_name: cve-2025-69985-patched
#    hostname: cve-2025-69985-patched
#    ports:
#      - "1882:1881"
#    healthcheck:
#      test: ["CMD", "curl", "-sf", "http://localhost:1881"]
#      interval: 10s
#      timeout: 5s
#      retries: 12
#      start_period: 30s
#    networks:
#      - lab-net

networks:
  lab-net:
    driver: bridge
