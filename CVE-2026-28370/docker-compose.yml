# docker-compose.yml — CVE-2026-28370 Lab Environment
#
# OpenStack Vitrage eval() Injection (CWE-95) — vulnerable + patched targets
#
# Usage:
#   docker compose up -d
#   docker exec cve-2026-28370-vulnerable python3 /poc/poc.py
#   docker compose down

services:
  vulnerable:
    image: ghcr.io/exploitintel/cve-2026-28370-vulnerable:latest
    container_name: cve-2026-28370-vulnerable
    command: ["sleep", "infinity"]
    volumes:
      - ./poc:/poc:ro
    networks:
      - lab-net

  patched:
    image: ghcr.io/exploitintel/cve-2026-28370-patched:latest
    container_name: cve-2026-28370-patched
    command: ["sleep", "infinity"]
    volumes:
      - ./poc:/poc:ro
    networks:
      - lab-net

networks:
  lab-net:
    driver: bridge
